include(ExternalProject)

SET( SCBAYES_DEPENDENCIES )

include(zlib.cmake)
LIST(APPEND SCBAYES_DEPENDENCIES ${ZLIB_PROJECT})
#include(fastahack.cmake)
#LIST(APPEND SCBAYES_DEPENDENCIES ${FASTAHACK_PROJECT})
#include(tabix.cmake)
#LIST(APPEND SCBAYES_DEPENDENCIES ${TABIX_PROJECT})
include(cxxopts.cmake)
LIST(APPEND SCBAYES_DEPENDENCIES ${CXXOPTS_PROJECT})
include(bamtools.cmake)
LIST(APPEND SCBAYES_DEPENDENCIES ${BAMTOOLS_PROJECT})
#include(gtest.cmake)
#LIST(APPEND SCBAYES_DEPENDENCIES ${GTEST_PROJECT})
#include(gssw.cmake)
#LIST(APPEND SCBAYES_DEPENDENCIES ${GSSW_PROJECT})

SET(SCBAYES_SOURCE_DIR ${CMAKE_CURRENT_SOURCE_DIR}/external CACHE INTERNAL "" FORCE)

SET(SCBAYES_EXTERNAL_PROJECT_DIR ${CMAKE_BINARY_DIR}/externals/scbayes_external_project CACHE INTERNAL "external project directory")
SET(SCBAYES_EXTERNAL_PROJECT scbayes_external_project CACHE INTERNAL "all scbayes external projects")
ExternalProject_Add(${SCBAYES_EXTERNAL_PROJECT}
    DEPENDS ${SCBAYES_DEPENDENCIES}
	DOWNLOAD_COMMAND ""
        SOURCE_DIR ${SCBAYES_SOURCE_DIR}
		BINARY_DIR ${SCBAYES_EXTERNAL_PROJECT_DIR}/bin
		INSTALL_COMMAND ""
	UPDATE_COMMAND ""
        CMAKE_CACHE_ARGS
		-DCMAKE_C_COMPILER:STRING=${CMAKE_C_COMPILER}
		-DCMAKE_CXX_COMPILER:STRING=${CMAKE_CXX_COMPILER}
)